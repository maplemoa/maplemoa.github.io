const a0_0x59e4c7=a0_0x224a;(function(_0x1cb91a,_0x54ed27){const _0x352a7d=a0_0x224a,_0x4ccf56=_0x1cb91a();while(!![]){try{const _0x29d9ef=-parseInt(_0x352a7d(0x197))/0x1*(-parseInt(_0x352a7d(0x16f))/0x2)+-parseInt(_0x352a7d(0x271))/0x3+-parseInt(_0x352a7d(0x1d0))/0x4*(-parseInt(_0x352a7d(0x1a8))/0x5)+-parseInt(_0x352a7d(0x279))/0x6*(parseInt(_0x352a7d(0x162))/0x7)+parseInt(_0x352a7d(0x21a))/0x8+parseInt(_0x352a7d(0x176))/0x9*(parseInt(_0x352a7d(0x1cb))/0xa)+parseInt(_0x352a7d(0x245))/0xb*(-parseInt(_0x352a7d(0x192))/0xc);if(_0x29d9ef===_0x54ed27)break;else _0x4ccf56['push'](_0x4ccf56['shift']());}catch(_0x1c8690){_0x4ccf56['push'](_0x4ccf56['shift']());}}}(a0_0x338f,0xe33e4));function toggleMenu(){const _0x238488=a0_0x224a;let _0x471003=document[_0x238488(0x171)](_0x238488(0x1fb)),_0x10dcba=document[_0x238488(0x171)](_0x238488(0x1bf)),_0x3f0f0b=document[_0x238488(0x171)]('menuButton'),_0x6c05eb=document['querySelector'](_0x238488(0x12b));if(_0x471003[_0x238488(0x1d5)][_0x238488(0x1ee)](_0x238488(0x16b))){_0x471003[_0x238488(0x1d5)][_0x238488(0x187)](_0x238488(0x16b)),_0x10dcba[_0x238488(0x14f)]['display']='none',_0x3f0f0b[_0x238488(0x14f)][_0x238488(0x18e)]=_0x238488(0x1bd),document[_0x238488(0x23c)]['style'][_0x238488(0x106)]='';if(_0x6c05eb)_0x6c05eb[_0x238488(0x14f)][_0x238488(0x1c2)]='none';}else{_0x471003[_0x238488(0x1d5)][_0x238488(0x18a)](_0x238488(0x16b)),_0x10dcba[_0x238488(0x14f)][_0x238488(0x18e)]=_0x238488(0x1bd),_0x3f0f0b['style']['display']=_0x238488(0x138),document[_0x238488(0x23c)]['style'][_0x238488(0x106)]=_0x238488(0x243);if(_0x6c05eb)_0x6c05eb[_0x238488(0x14f)]['filter']=_0x238488(0x177);}}window[a0_0x59e4c7(0x26d)]=toggleMenu;import{initializeApp}from'https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js';import{getAuth,createUserWithEmailAndPassword,signInWithEmailAndPassword,signOut,onAuthStateChanged,updateProfile}from'https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js';import{getFirestore,collection,addDoc,getDocs,getDoc,orderBy,query,serverTimestamp,updateDoc,deleteDoc,doc,increment,where,setDoc,Timestamp,limit,startAfter,endBefore,limitToLast,startAt,onSnapshot}from'https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js';const firebaseConfig={'apiKey':a0_0x59e4c7(0x1c9),'authDomain':a0_0x59e4c7(0x170),'projectId':'bluemushmomboard','storageBucket':a0_0x59e4c7(0x257),'messagingSenderId':a0_0x59e4c7(0x1aa),'appId':'1:353177129530:web:a710b8838cbad90c8cdb03','measurementId':a0_0x59e4c7(0x277)},app=initializeApp(firebaseConfig),auth=getAuth(),db=getFirestore(app);let replyToCommentId=null,currentUser=null,currentPostId=null,userNickname=null,userAvatarColor=a0_0x59e4c7(0x27c),selectedAvatarColor=a0_0x59e4c7(0x27c),currentPage=0x1,postsPerPage=0xa,totalPages=0x1,lastVisiblePost=null,firstVisiblePost=null,allPosts=[],searchTerm='',currentTab=a0_0x59e4c7(0x19e),currentChannelId=null,lastCommentTime=0x0;const writeModal=document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x1d6)),viewModal=document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x25e)),loginModal=document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x214)),registerModal=document['getElementById']('registerModal'),channelModal=document[a0_0x59e4c7(0x171)]('channelModal'),viewChannelModal=document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x173)),profileModal=document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x264)),boardTabBtn=document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x146)),channelTabBtn=document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x11b)),boardTab=document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x1f2)),channelTab=document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x232)),writePostBtn=document['getElementById'](a0_0x59e4c7(0x1fd)),addChannelBtn=document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x27a)),searchInput=document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x16a)),searchBtn=document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x127)),paginationContainer=document['getElementById'](a0_0x59e4c7(0x1c6));function renderCommentsTree(_0x45e1dd){const _0x49139c=a0_0x59e4c7,_0x61480e={};_0x45e1dd[_0x49139c(0x20c)](_0x2ae01e=>{const _0x46f6b7=_0x49139c;_0x2ae01e[_0x46f6b7(0x204)]=[],_0x61480e[_0x2ae01e['id']]=_0x2ae01e;});const _0x512da5=[];return _0x45e1dd[_0x49139c(0x20c)](_0x22cd7a=>{const _0x404393=_0x49139c;_0x22cd7a[_0x404393(0x1f7)]?_0x61480e[_0x22cd7a['parentId']]?_0x61480e[_0x22cd7a[_0x404393(0x1f7)]][_0x404393(0x204)]['push'](_0x22cd7a):_0x512da5[_0x404393(0x206)](_0x22cd7a):_0x512da5[_0x404393(0x206)](_0x22cd7a);}),renderCommentList(_0x512da5,0x0);}function renderCommentList(_0x6d4fa4,_0x165c79){const _0x405ab7=a0_0x59e4c7;let _0x631891='';return _0x6d4fa4[_0x405ab7(0x20c)](_0x3ed0e8=>{const _0x4cf5b7=_0x405ab7;_0x631891+=renderComment(_0x3ed0e8,_0x165c79),_0x3ed0e8[_0x4cf5b7(0x204)]&&_0x3ed0e8[_0x4cf5b7(0x204)][_0x4cf5b7(0x114)]>0x0&&(_0x631891+=renderCommentList(_0x3ed0e8[_0x4cf5b7(0x204)],_0x165c79+0x14));}),_0x631891;}function renderComment(_0x4febf4,_0xf4574c){const _0x10f400=a0_0x59e4c7,_0x5089d6=formatDate(_0x4febf4['timestamp']),_0x41a3b5=_0x4febf4[_0x10f400(0x1af)]||_0x10f400(0x27c),_0x5b3233=getInitial(_0x4febf4[_0x10f400(0x1d7)]||_0x4febf4['author']),_0x2024e6=currentUser&&currentUser[_0x10f400(0x1a3)]===_0x4febf4[_0x10f400(0x1b4)],_0x16186b=_0x4febf4[_0x10f400(0x21c)]?_0x10f400(0x15c)+_0x4febf4['id']+'\x27)':_0x10f400(0x160)+_0x4febf4['id']+'\x27)';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22comment\x22\x20style=\x22margin-left:\x20'+_0xf4574c+_0x10f400(0x164)+_0x41a3b5+'\x22>'+_0x5b3233+_0x10f400(0x1c8)+(_0x4febf4[_0x10f400(0x1d7)]||_0x4febf4['author'])+_0x10f400(0x133)+_0x5089d6+_0x10f400(0x221)+(_0x2024e6?'<button\x20onclick=\x22'+_0x16186b+_0x10f400(0x134):'')+_0x10f400(0x104)+_0x4febf4[_0x10f400(0x216)]+_0x10f400(0x201)+_0x4febf4['id']+_0x10f400(0x228);}function startReply(_0x5115f9){const _0x5a4da7=a0_0x59e4c7;replyToCommentId=_0x5115f9,showToast(_0x5a4da7(0x269));}function formatDate(_0x28646a){const _0x32f9f1=a0_0x59e4c7;if(!_0x28646a)return'시간\x20없음';let _0x243dd6;if(typeof _0x28646a==='number')_0x243dd6=new Date(_0x28646a*0x3e8);else{if(_0x28646a[_0x32f9f1(0x215)])_0x243dd6=new Date(_0x28646a[_0x32f9f1(0x215)]*0x3e8);else return _0x32f9f1(0x120);}const _0x3505de=_0x243dd6[_0x32f9f1(0x1d1)]()[_0x32f9f1(0x15e)]()[_0x32f9f1(0x25a)](0x2,'0'),_0x42b5c4=_0x243dd6[_0x32f9f1(0x222)]()[_0x32f9f1(0x15e)]()[_0x32f9f1(0x25a)](0x2,'0');return _0x3505de+':'+_0x42b5c4;}function showToast(_0x2a7c40){const _0x53afcf=a0_0x59e4c7,_0xce1b50=document['createElement'](_0x53afcf(0x244));_0xce1b50[_0x53afcf(0x11f)]=_0x2a7c40,_0xce1b50['style']['position']=_0x53afcf(0x13e),_0xce1b50['style'][_0x53afcf(0x1e8)]=_0x53afcf(0x139),_0xce1b50['style']['right']=_0x53afcf(0x139),_0xce1b50[_0x53afcf(0x14f)][_0x53afcf(0x1d2)]='#333',_0xce1b50[_0x53afcf(0x14f)]['color']=_0x53afcf(0x122),_0xce1b50[_0x53afcf(0x14f)][_0x53afcf(0x259)]=_0x53afcf(0x131),_0xce1b50[_0x53afcf(0x14f)]['borderRadius']='5px',_0xce1b50[_0x53afcf(0x14f)][_0x53afcf(0x213)]=_0x53afcf(0x18d),_0xce1b50[_0x53afcf(0x14f)][_0x53afcf(0x107)]='1',_0xce1b50[_0x53afcf(0x14f)][_0x53afcf(0x1d9)]=_0x53afcf(0x218),_0xce1b50['style']['zIndex']=_0x53afcf(0x24e),document[_0x53afcf(0x23c)][_0x53afcf(0x151)](_0xce1b50),setTimeout(()=>{const _0x35d1b9=_0x53afcf;_0xce1b50[_0x35d1b9(0x14f)][_0x35d1b9(0x107)]='0',setTimeout(()=>document[_0x35d1b9(0x23c)]['removeChild'](_0xce1b50),0x1f4);},0x7d0);}function scrollToBottom(){const _0x41fe68=a0_0x59e4c7,_0x46a408=document[_0x41fe68(0x171)](_0x41fe68(0x180));_0x46a408&&setTimeout(()=>{const _0x57936e=_0x41fe68;_0x46a408[_0x57936e(0x22b)]=_0x46a408['scrollHeight'];},0x1f4);const _0x53c278=document[_0x41fe68(0x171)]('channelComments');_0x53c278&&setTimeout(()=>{const _0x3b68cf=_0x41fe68;_0x53c278[_0x3b68cf(0x22b)]=_0x53c278[_0x3b68cf(0x103)];},0x1f4);}function createAvatar(_0x4b9b3a,_0x4c516c){const _0x4bf2b9=a0_0x59e4c7,_0x2914f2=_0x4b9b3a?_0x4b9b3a[_0x4bf2b9(0x207)](0x0)['toUpperCase']():'?';return _0x4bf2b9(0x18b)+(_0x4c516c||_0x4bf2b9(0x27c))+'\x22>'+_0x2914f2+'</div>';}function listenForCommentUpdates(){const _0x2b608a=collection(db,'comments');onSnapshot(_0x2b608a,_0x19b4a0=>{const _0x261964=a0_0x224a;_0x19b4a0[_0x261964(0x19d)]()[_0x261964(0x20c)](_0xb2545f=>{const _0x515d5b=_0x261964;if(_0xb2545f[_0x515d5b(0x13f)]===_0x515d5b(0x1c3)){const _0x149f65=_0xb2545f[_0x515d5b(0x248)][_0x515d5b(0x17e)]();_0x149f65['parentId']&&checkIfReplyToMyComment(_0x149f65[_0x515d5b(0x1f7)]);}});});}async function checkIfReplyToMyComment(_0x2fb95b){const _0x5d7ec3=a0_0x59e4c7;if(!currentUser)return;try{const _0x169b5e=await getDoc(doc(db,_0x5d7ec3(0x180),_0x2fb95b));if(_0x169b5e['exists']()){const _0xde4702=_0x169b5e['data']();_0xde4702[_0x5d7ec3(0x1b4)]===currentUser[_0x5d7ec3(0x1a3)]&&showToast(_0x5d7ec3(0x1f9));}}catch(_0x4c340d){console[_0x5d7ec3(0x265)](_0x5d7ec3(0x17b),_0x4c340d);}}function listenForChannelCommentUpdates(){const _0xf556f4=collection(db,'channelComments');onSnapshot(_0xf556f4,_0x19a529=>{const _0x1ef819=a0_0x224a;_0x19a529[_0x1ef819(0x19d)]()[_0x1ef819(0x20c)](_0x40aed6=>{const _0x32c0fe=_0x1ef819;if(_0x40aed6[_0x32c0fe(0x13f)]===_0x32c0fe(0x1c3)){const _0x4994f0=_0x40aed6[_0x32c0fe(0x248)][_0x32c0fe(0x17e)]();_0x4994f0[_0x32c0fe(0x1f7)]&&checkIfReplyToMyChannelComment(_0x4994f0[_0x32c0fe(0x1f7)]);}});});}async function checkIfReplyToMyChannelComment(_0x4e008d){const _0x5b2ffb=a0_0x59e4c7;if(!currentUser)return;try{const _0x7c96fe=await getDoc(doc(db,_0x5b2ffb(0x1ff),_0x4e008d));if(_0x7c96fe[_0x5b2ffb(0x208)]()){const _0x456574=_0x7c96fe[_0x5b2ffb(0x17e)]();_0x456574[_0x5b2ffb(0x1b4)]===currentUser[_0x5b2ffb(0x1a3)]&&showToast('내\x20채널\x20댓글에\x20답글이\x20달렸습니다!');}}catch(_0x1e9301){console[_0x5b2ffb(0x265)](_0x5b2ffb(0x1e6),_0x1e9301);}}function getInitial(_0x5eee34){const _0x111480=a0_0x59e4c7;return _0x5eee34?_0x5eee34[_0x111480(0x207)](0x0)[_0x111480(0x20a)]():'?';}function sanitizeInput(_0x1ae282){const _0x524ba1=a0_0x59e4c7;let _0x5d71c8=_0x1ae282[_0x524ba1(0x161)](/</g,_0x524ba1(0x1a4))[_0x524ba1(0x161)](/>/g,_0x524ba1(0x1e3))[_0x524ba1(0x161)](/"/g,_0x524ba1(0x158))[_0x524ba1(0x161)](/'/g,_0x524ba1(0x267))[_0x524ba1(0x161)](/&/g,_0x524ba1(0x236));return _0x5d71c8[_0x524ba1(0x114)]>0xc8?_0x5d71c8[_0x524ba1(0x1ad)](0x0,0xc8):_0x5d71c8;}onAuthStateChanged(auth,async _0x30f403=>{const _0x362122=a0_0x59e4c7;currentUser=_0x30f403;if(_0x30f403){try{const _0x193aa6=await getDoc(doc(db,_0x362122(0x23d),_0x30f403['uid']));_0x193aa6[_0x362122(0x208)]()&&(userNickname=_0x193aa6[_0x362122(0x17e)]()[_0x362122(0x1d7)],userAvatarColor=_0x193aa6[_0x362122(0x17e)]()['avatarColor']||_0x362122(0x27c));}catch(_0x2d35e9){console[_0x362122(0x265)]('사용자\x20정보\x20로딩\x20오류:',_0x2d35e9);}document['querySelector'](_0x362122(0x166))[_0x362122(0x11f)]=userNickname?userNickname+'님':''+_0x30f403[_0x362122(0x14e)];const _0x37abd4=document[_0x362122(0x171)]('userAvatar');_0x37abd4[_0x362122(0x14f)][_0x362122(0x17f)]=userAvatarColor,_0x37abd4[_0x362122(0x157)]=getInitial(userNickname||_0x30f403[_0x362122(0x14e)]['split']('@')[0x0]),_0x37abd4[_0x362122(0x14f)]['display']=_0x362122(0x1c4),document[_0x362122(0x229)]('#logoutBtn')[_0x362122(0x14f)]['display']=_0x362122(0x1bd),document[_0x362122(0x229)]('#loginBtn')['style']['display']=_0x362122(0x138),document[_0x362122(0x229)](_0x362122(0x227))['style'][_0x362122(0x18e)]=_0x362122(0x138),document[_0x362122(0x229)](_0x362122(0x24c))['style'][_0x362122(0x18e)]=_0x362122(0x1bd),document[_0x362122(0x229)](_0x362122(0x1a1))[_0x362122(0x14f)][_0x362122(0x18e)]=_0x362122(0x1bd);}else userNickname=null,userAvatarColor=_0x362122(0x27c),document[_0x362122(0x229)](_0x362122(0x166))[_0x362122(0x11f)]=_0x362122(0x217),document[_0x362122(0x171)](_0x362122(0x273))[_0x362122(0x14f)][_0x362122(0x18e)]=_0x362122(0x138),document[_0x362122(0x229)](_0x362122(0x16d))[_0x362122(0x14f)][_0x362122(0x18e)]=_0x362122(0x138),document['querySelector'](_0x362122(0x1d4))[_0x362122(0x14f)][_0x362122(0x18e)]=_0x362122(0x1bd),document[_0x362122(0x229)]('#registerBtn')[_0x362122(0x14f)][_0x362122(0x18e)]=_0x362122(0x1bd),document[_0x362122(0x229)](_0x362122(0x24c))[_0x362122(0x14f)][_0x362122(0x18e)]=_0x362122(0x138),document[_0x362122(0x229)](_0x362122(0x1a1))[_0x362122(0x14f)][_0x362122(0x18e)]=_0x362122(0x138);currentTab===_0x362122(0x19e)?fetchPosts():fetchChannels();});async function registerUser(_0x7d8a92,_0xf6d78c,_0x5d70a3){const _0x3c7a0b=a0_0x59e4c7;try{if(!validateEmail(_0x7d8a92)){showToast(_0x3c7a0b(0x275));return;}if(!_0x5d70a3||_0x5d70a3[_0x3c7a0b(0x114)]<0x2||_0x5d70a3[_0x3c7a0b(0x114)]>0xa){showToast(_0x3c7a0b(0x26f));return;}const _0x29c419=await createUserWithEmailAndPassword(auth,_0x7d8a92,_0xf6d78c),_0x1a1372=_0x29c419[_0x3c7a0b(0x14a)];await setDoc(doc(db,_0x3c7a0b(0x23d),_0x1a1372[_0x3c7a0b(0x1a3)]),{'email':_0x7d8a92,'nickname':_0x5d70a3,'avatarColor':selectedAvatarColor,'createdAt':Math['floor'](Date[_0x3c7a0b(0x24d)]()/0x3e8),'postCount':0x0,'commentCount':0x0,'likeCount':0x0}),showToast(_0x3c7a0b(0x23b)),registerModal[_0x3c7a0b(0x14f)][_0x3c7a0b(0x18e)]=_0x3c7a0b(0x138);}catch(_0x51f772){showToast(_0x51f772['message']);}}function validateEmail(_0x449e6f){const _0x106f0d=a0_0x59e4c7,_0x197bc6=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return _0x197bc6['test'](String(_0x449e6f)[_0x106f0d(0x24f)]());}function a0_0x338f(){const _0x4dfcc8=['viewViews','block','log','overlay','querySelectorAll','addEventListener','filter','added','flex','viewChannel','pagination','post-list-body','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AIzaSyBSOrPKyxH1agiOFks-hi8LyL2Xq7-gz1I','split','29010VGEuxM','userPosts','channel','댓글을\x20작성하려면\x20로그인이\x20필요합니다.','채널\x20정보\x20로딩\x20오류:','4dDcKiA','getHours','background','views','#loginBtn','classList','writeModal','nickname','editChannelForm','transition','name','profileUsername','keys','로그인\x20성공!','profileAvatar','Enter','viewPost','Firestore\x20문서\x20가져옴:','viewChannelContent','&gt;','댓글\x20작성\x20중\x20오류가\x20발생했습니다.','updateChannel','채널\x20답글\x20알림\x20검사\x20오류:','<p>작성한\x20글을\x20불러오는\x20중\x20오류가\x20발생했습니다.</p>','bottom','data-color','postActions','글\x20삭제\x20중\x20오류가\x20발생했습니다.','해당\x20채널을\x20찾을\x20수\x20없습니다.','채널\x20조회\x20오류:','contains','#4caf50','#f44336','프로필\x20업데이트\x20중\x20오류가\x20발생했습니다.','boardTab','\x22\x20onclick=\x22viewPost(\x27','비밀번호는\x20최소\x206자\x20이상이어야\x20합니다.','editNickname','docs','parentId','작성자\x20추천수\x20업데이트\x20오류:','내\x20댓글에\x20답글이\x20달렸습니다!','댓글은\x205초에\x20한\x20번만\x20입력할\x20수\x20있습니다.','sidebar','deleteChannelBtn','writePostBtn','test','channelComments','로그아웃되었습니다.','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-btn\x22\x20onclick=\x22startReply(\x27','channelLikeBtn','이미\x20오늘\x20추천/비추천을\x20하셨습니다.','children','댓글\x20삭제\x20오류:','push','charAt','exists','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toUpperCase','message','forEach','채널\x20이름을\x20입력해주세요.','글\x20수정\x20중\x20오류가\x20발생했습니다.','정말\x20이\x20채널을\x20삭제하시겠습니까?','#profileColorOptions\x20.avatar-color.selected','channelName','submitComment','boxShadow','loginModal','seconds','content','로그인이\x20필요합니다.','opacity\x200.5s\x20ease-in-out','문서\x20없음','11785744QdApPe','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#ff6b6b;\x22>채널\x20댓글\x20로딩\x20중\x20오류가\x20발생했습니다:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#ff6b6b;\x20font-size:\x200.9em;\x22>','channelId','channelsContainer','채널\x20추가\x20중\x20오류가\x20발생했습니다.','postsTab','검색\x20중\x20오류가\x20발생했습니다.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getMinutes','profileEmail','profileCommentCount','startReply','channelDesc','#registerBtn','\x27)\x22>답글\x20달기</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','querySelector','정말\x20이\x20글을\x20삭제하시겠습니까?','scrollTop','status','desc','editBtn','<p>작성한\x20댓글이\x20없습니다.</p>','key','이메일,\x20닉네임,\x20비밀번호를\x20모두\x20입력해주세요.','channelTab','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','채널을\x20불러오는\x20중\x20오류가\x20발생했습니다.','innerHTML','&amp;','trim','editChannelDesc','floor','voters','회원가입\x20완료!','body','users','viewPost\x20함수\x20실행됨,\x20ID:','loginEmail','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','channelAuthorAvatar','value','hidden','div','7022026KPJyMw','editForm','channelCommentText','doc','postId','postTitle','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','#writePostBtn','now','9999','toLowerCase','likeBtn','channels','dislike','채널\x20삭제\x20중\x20오류가\x20발생했습니다.','postCount','채널\x20이름은\x20\x27문자-문자숫자\x27\x20형식이어야\x20합니다.\x20예:\x20a-빅101','submitChannelComment','bluemushmomboard.appspot.com','글이\x20삭제되었습니다.','padding','padStart','channelStatus','댓글\x20내용을\x20입력해주세요.','dislikes','viewModal','loginPassword','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22background:\x20#333;\x20padding:\x2010px;\x20margin-bottom:\x2010px;\x20border-radius:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x200.9em;\x20color:\x20#aaa;\x20margin-bottom:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20게시글:\x20<span\x20style=\x22font-weight:\x20bold;\x20cursor:\x20pointer;\x22\x20onclick=\x22viewPost(\x27',')\x22>마지막</button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:\x205px;\x22>','title','profileModal','error','commentsTab','&#x27;','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22channel-info\x22>상태:\x20','답글\x20모드\x20활성화:\x20선택된\x20댓글에\x20답글을\x20작성합니다.','<button\x20onclick=\x22goToPage(1)\x22>처음</button>','color','openProfileModal','toggleMenu','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','닉네임은\x202자에서\x2010자\x20사이로\x20입력해주세요.','editTitle','2497137UGilaj','사용자\x20정보\x20로딩\x20오류:','userAvatar','게시글\x20검색\x20오류:','유효한\x20이메일\x20형식이\x20아닙니다.','profileLikeCount','G-NV5NWGZTW9','scrollTo','1040064IVuxkn','addChannelBtn','postContent','#4da6ff','scrollHeight','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>','글\x20삭제\x20오류:','overflow','opacity','registerNickname','viewContent','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>','max','.close-modal','제목과\x20내용을\x20모두\x20입력해주세요.','글\x20목록\x20로딩\x20오류:','date','<p>아직\x20댓글이\x20없습니다.</p>','stack','editChannelName','code','length','.modal','includes','viewChannelStatus','toISOString','오류\x20코드:','ceil','channelTabBtn','channelDislikeCount','#3d8b3d','like','innerText','시간\x20없음','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22channel-box\x20','white','submitChannel','viewChannelAuthor','settingsTab','getAttribute','searchBtn','오류\x20스택:','description','closest','.container','비추천되었습니다.','viewTitle','프로필\x20로딩\x20오류:','viewChannelTitle','채널이\x20추가되었습니다.','10px\x2020px','commentText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22font-weight:\x20normal;\x20font-size:\x200.9em;\x20margin-left:\x2010px;\x22>','\x22\x20style=\x22margin-left:\x20auto;\x20background:\x20#ff4d4d;\x20border:\x20none;\x20color:\x20white;\x20padding:\x202px\x205px;\x20border-radius:\x203px;\x20cursor:\x20pointer;\x22>삭제</button>','registerPassword','</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22background:\x20#333;\x20padding:\x2010px;\x20margin-bottom:\x2010px;\x20border-radius:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x200.9em;\x20color:\x20#aaa;\x20margin-bottom:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20채널:\x20<span\x20style=\x22font-weight:\x20bold;\x20cursor:\x20pointer;\x22\x20onclick=\x22viewChannel(\x27','none','20px','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22channel-name\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22color:\x20#aaa;\x20font-size:\x200.8em;\x22>','.avatar-colors\x20.avatar-color','<p>댓글을\x20불러올\x20수\x20없습니다:\x20유효하지\x20않은\x20게시글\x20ID</p>','fixed','type','채널이\x20수정되었습니다.','viewDate','채널\x20삭제\x20오류:',')\x22>다음</button>','닉네임은\x202자에서\x2010자\x20사이여야\x20합니다.','commentCount','boardTabBtn','<p\x20style=\x22grid-column:\x201\x20/\x20-1;\x20text-align:\x20center;\x20padding:\x2020px;\x22>아직\x20등록된\x20채널이\x20없습니다.</p>','추천되었습니다.','<tr><td\x20colspan=\x226\x22\x20style=\x22text-align:\x20center;\x20padding:\x2020px;\x22>검색\x20결과가\x20없습니다.</td></tr>','user','댓글\x20작성\x20오류:','사용자\x20댓글\x20로딩\x20오류:','editChannelStatus','email','style','\x22\x20data-id=\x22','appendChild','viewChannelDate','등장\x20중','댓글\x20삭제\x20중\x20오류가\x20발생했습니다.','timestamp','댓글이\x20삭제되었습니다.','textContent','&quot;','게시글을\x20불러오는\x20중\x20오류가\x20발생했습니다.','registerEmail','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-weight:\x20bold;\x20margin-bottom:\x205px;\x22>','deleteChannelComment(\x27','green','toString','onSnapshot\x20호출됨.\x20변경된\x20문서\x20개수:','deleteComment(\x27','replace','14QWgTyO','postsContent','px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22comment-author\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-avatar-sm\x22\x20style=\x22background-color:\x20','#ff4d4d','#loginStatus','selected','채널이\x20삭제되었습니다.','DOMContentLoaded','searchInput','active','editChannelBtn','#logoutBtn','<button\x20onclick=\x22goToPage(','18936yRzqGx','bluemushmomboard.firebaseapp.com','getElementById','글이\x20등록되었습니다.','viewChannelModal','slice','<button\x20class=\x22active\x22>','306VsFxbq','blur(3px)','updatePost','keyup','이미\x20존재하는\x20채널\x20이름입니다.','답글\x20알림\x20검사\x20오류:','postAuthorAvatar','문서\x20있음','data','backgroundColor','comments','채널\x20추가\x20오류:','likes','asc','#c9302c','deleteChannelComment','likeCount','remove','deleteComment','글\x20작성\x20오류:','add','<div\x20class=\x22user-avatar\x22\x20style=\x22background-color:\x20','정말\x20이\x20댓글을\x20삭제하시겠습니까?','0\x204px\x2010px\x20rgba(0,\x200,\x200,\x200.3)','display','해당\x20게시글을\x20찾을\x20수\x20없습니다.','saveProfileBtn','click','24iqsTyk','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22channel-info\x22>등록:\x20','변경\x20유형:','userComments','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>','71LaTQxU','channelActions','#profileColorOptions\x20.avatar-color','editContent','<p>채널\x20댓글을\x20불러올\x20수\x20없습니다:\x20유효하지\x20않은\x20채널\x20ID</p>','commentsContent','docChanges','board','channelDislikeBtn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#addChannelBtn','channelLikeCount','uid','&lt;','goToPage','\x22\x20onclick=\x22viewChannel(\x27','해당\x20항목을\x20찾을\x20수\x20없습니다.','5712535lydkcE','글이\x20수정되었습니다.','353177129530','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','posts','substring','\x27)\x22>','avatarColor','글\x20수정\x20오류:',')\x22>이전</button>','<p>작성한\x20글이\x20없습니다.</p>','size','authorId','채널\x20댓글\x20삭제\x20오류:','empty','post','dislikeCount','author','settingsContent','dislikeBtn'];a0_0x338f=function(){return _0x4dfcc8;};return a0_0x338f();}async function loginUser(_0x44dd0f,_0x26e3e8){const _0x56f856=a0_0x59e4c7;try{await signInWithEmailAndPassword(auth,_0x44dd0f,_0x26e3e8),showToast(_0x56f856(0x1dd)),loginModal['style']['display']='none',document['getElementById'](_0x56f856(0x23f))['value']='',document[_0x56f856(0x171)](_0x56f856(0x25f))[_0x56f856(0x242)]='';}catch(_0xdc520a){showToast(_0xdc520a[_0x56f856(0x20b)]);}}async function logoutUser(){const _0x426765=a0_0x59e4c7;try{await signOut(auth),showToast(_0x426765(0x200));}catch(_0x3ba8ca){showToast(_0x3ba8ca['message']);}}async function updateUserProfile(){const _0x3a2ff3=a0_0x59e4c7;if(!currentUser)return;const _0x1a6d68=document[_0x3a2ff3(0x171)](_0x3a2ff3(0x1f5))[_0x3a2ff3(0x242)]['trim'](),_0x4c27b3=document[_0x3a2ff3(0x229)](_0x3a2ff3(0x210)),_0x1fb14d=_0x4c27b3?_0x4c27b3[_0x3a2ff3(0x126)](_0x3a2ff3(0x1e9)):userAvatarColor;if(_0x1a6d68&&(_0x1a6d68[_0x3a2ff3(0x114)]<0x2||_0x1a6d68[_0x3a2ff3(0x114)]>0xa)){showToast(_0x3a2ff3(0x144));return;}try{const _0x2c559f=doc(db,_0x3a2ff3(0x23d),currentUser['uid']),_0x187cba={};_0x1a6d68&&(_0x187cba[_0x3a2ff3(0x1d7)]=_0x1a6d68);_0x1fb14d&&(_0x187cba[_0x3a2ff3(0x1af)]=_0x1fb14d);if(Object[_0x3a2ff3(0x1dc)](_0x187cba)['length']>0x0){await updateDoc(_0x2c559f,_0x187cba);if(_0x1a6d68)userNickname=_0x1a6d68;if(_0x1fb14d)userAvatarColor=_0x1fb14d;_0x1a6d68&&(document[_0x3a2ff3(0x229)](_0x3a2ff3(0x166))[_0x3a2ff3(0x11f)]=_0x1a6d68+'님',document[_0x3a2ff3(0x171)](_0x3a2ff3(0x1db))[_0x3a2ff3(0x157)]=_0x1a6d68),_0x1fb14d&&(document['getElementById'](_0x3a2ff3(0x273))['style']['backgroundColor']=_0x1fb14d,document[_0x3a2ff3(0x171)](_0x3a2ff3(0x1de))[_0x3a2ff3(0x14f)][_0x3a2ff3(0x17f)]=_0x1fb14d),showToast('프로필이\x20업데이트되었습니다.');}}catch(_0x1ee6a2){console[_0x3a2ff3(0x265)]('프로필\x20업데이트\x20오류:',_0x1ee6a2),showToast(_0x3a2ff3(0x1f1));}}async function fetchPosts(){const _0x427bef=a0_0x59e4c7;console[_0x427bef(0x1be)]('fetchPosts\x20호출됨');try{if(searchTerm){await searchPosts(searchTerm);return;}const _0x3b5359=collection(db,_0x427bef(0x1ac));let _0x5abbfb;lastVisiblePost&&currentPage>0x1?_0x5abbfb=query(_0x3b5359,orderBy(_0x427bef(0x155),_0x427bef(0x22d)),startAfter(lastVisiblePost),limit(postsPerPage)):_0x5abbfb=query(_0x3b5359,orderBy(_0x427bef(0x155),_0x427bef(0x22d)),limit(postsPerPage));const _0x2e5dd4=await getDocs(_0x5abbfb),_0x39d1ad=await getDocs(query(_0x3b5359)),_0x21b2db=_0x39d1ad[_0x427bef(0x1b3)];totalPages=Math[_0x427bef(0x11a)](_0x21b2db/postsPerPage),renderPagination(totalPages,currentPage);!_0x2e5dd4['empty']&&(firstVisiblePost=_0x2e5dd4[_0x427bef(0x1f6)][0x0],lastVisiblePost=_0x2e5dd4['docs'][_0x2e5dd4[_0x427bef(0x1f6)][_0x427bef(0x114)]-0x1]);let _0xcbe3ea='',_0xb2866c=_0x21b2db-(currentPage-0x1)*postsPerPage;allPosts=[],_0x2e5dd4[_0x427bef(0x20c)](_0x134479=>{const _0x40546d=_0x427bef,_0x858b8d=_0x134479[_0x40546d(0x17e)]();allPosts[_0x40546d(0x206)]({'id':_0x134479['id'],..._0x858b8d});const _0x6b3467=_0xb2866c--,_0x4d503b=formatDate(_0x858b8d['timestamp']),_0x395d33=_0x858b8d[_0x40546d(0x145)]||0x0;_0xcbe3ea+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20data-id=\x22'+_0x134479['id']+_0x40546d(0x1f3)+_0x134479['id']+_0x40546d(0x26e)+_0x6b3467+_0x40546d(0x240)+(_0x858b8d['title']||'')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x858b8d[_0x40546d(0x1d7)]||_0x858b8d[_0x40546d(0x1b9)]||'')+_0x40546d(0x240)+_0x4d503b+_0x40546d(0x240)+(_0x858b8d['views']||0x0)+_0x40546d(0x240)+_0x395d33+_0x40546d(0x240)+((_0x858b8d[_0x40546d(0x182)]||0x0)-(_0x858b8d[_0x40546d(0x25d)]||0x0))+_0x40546d(0x196);}),document['getElementById'](_0x427bef(0x1c7))[_0x427bef(0x235)]=_0xcbe3ea;}catch(_0x5ff60f){console[_0x427bef(0x265)](_0x427bef(0x10e),_0x5ff60f),showToast(_0x427bef(0x159));}}searchInput[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x179),_0x1a7886=>{const _0x527fad=a0_0x59e4c7;if(_0x1a7886[_0x527fad(0x230)]===_0x527fad(0x1df))searchTerm=searchInput[_0x527fad(0x242)][_0x527fad(0x237)](),currentPage=0x1,fetchPosts();else searchInput[_0x527fad(0x242)]['trim']()===''&&searchTerm!==''&&(searchTerm='',currentPage=0x1,fetchPosts());});async function searchPosts(_0x114304){const _0x55cfc4=a0_0x59e4c7;try{const _0x3002bb=collection(db,_0x55cfc4(0x1ac)),_0x3be29e=query(_0x3002bb,orderBy(_0x55cfc4(0x155),'desc')),_0x3f6ceb=await getDocs(_0x3be29e),_0x5484de=[];_0x3f6ceb[_0x55cfc4(0x20c)](_0x4f7866=>{const _0x45712a=_0x55cfc4,_0x4ebfa6=_0x4f7866[_0x45712a(0x17e)]();(_0x4ebfa6[_0x45712a(0x263)]&&_0x4ebfa6[_0x45712a(0x263)][_0x45712a(0x24f)]()[_0x45712a(0x116)](_0x114304['toLowerCase']())||_0x4ebfa6[_0x45712a(0x216)]&&_0x4ebfa6['content'][_0x45712a(0x24f)]()[_0x45712a(0x116)](_0x114304['toLowerCase']())||_0x4ebfa6[_0x45712a(0x1d7)]&&_0x4ebfa6[_0x45712a(0x1d7)][_0x45712a(0x24f)]()[_0x45712a(0x116)](_0x114304[_0x45712a(0x24f)]())||_0x4ebfa6[_0x45712a(0x1b9)]&&_0x4ebfa6[_0x45712a(0x1b9)]['toLowerCase']()[_0x45712a(0x116)](_0x114304['toLowerCase']()))&&_0x5484de[_0x45712a(0x206)]({'id':_0x4f7866['id'],..._0x4ebfa6});}),totalPages=Math[_0x55cfc4(0x11a)](_0x5484de[_0x55cfc4(0x114)]/postsPerPage);const _0x588bd7=(currentPage-0x1)*postsPerPage,_0x4b73ac=_0x5484de[_0x55cfc4(0x174)](_0x588bd7,_0x588bd7+postsPerPage);renderPagination(totalPages,currentPage);let _0x594f73='';_0x5484de[_0x55cfc4(0x114)]===0x0?_0x594f73=_0x55cfc4(0x149):_0x4b73ac[_0x55cfc4(0x20c)]((_0x237021,_0x3c240a)=>{const _0x568e58=_0x55cfc4,_0x17ee3f=_0x5484de[_0x568e58(0x114)]-(_0x588bd7+_0x3c240a),_0x551a88=formatDate(_0x237021[_0x568e58(0x155)]);_0x594f73+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20data-id=\x22'+_0x237021['id']+'\x22\x20onclick=\x22viewPost(\x27'+_0x237021['id']+_0x568e58(0x24b)+_0x17ee3f+_0x568e58(0x233)+(_0x237021[_0x568e58(0x263)]||'')+_0x568e58(0x233)+(_0x237021['nickname']||_0x237021[_0x568e58(0x1b9)]||'')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x551a88+_0x568e58(0x233)+(_0x237021[_0x568e58(0x1d3)]||0x0)+_0x568e58(0x233)+((_0x237021[_0x568e58(0x182)]||0x0)-(_0x237021[_0x568e58(0x25d)]||0x0))+_0x568e58(0x10a);}),document[_0x55cfc4(0x171)]('post-list-body')[_0x55cfc4(0x235)]=_0x594f73;}catch(_0x1eae1b){console[_0x55cfc4(0x265)](_0x55cfc4(0x274),_0x1eae1b),showToast(_0x55cfc4(0x220));}}function renderPagination(_0x481941,_0x203889){const _0x1e59f9=a0_0x59e4c7,_0x4c3694=document[_0x1e59f9(0x171)](_0x1e59f9(0x1c6));let _0x1f0bd5='';_0x481941>0x5&&_0x203889>0x1&&(_0x1f0bd5+=_0x1e59f9(0x26a),_0x1f0bd5+=_0x1e59f9(0x16e)+(_0x203889-0x1)+_0x1e59f9(0x1b1));let _0x1e219b=Math[_0x1e59f9(0x10b)](0x1,_0x203889-0x2),_0x3aef21=Math['min'](_0x481941,_0x1e219b+0x4);if(_0x481941<=0x5)_0x1e219b=0x1,_0x3aef21=_0x481941;else{if(_0x203889<=0x3)_0x1e219b=0x1,_0x3aef21=0x5;else _0x203889>=_0x481941-0x2&&(_0x1e219b=_0x481941-0x4,_0x3aef21=_0x481941);}for(let _0x9ca71b=_0x1e219b;_0x9ca71b<=_0x3aef21;_0x9ca71b++){_0x9ca71b===_0x203889?_0x1f0bd5+=_0x1e59f9(0x175)+_0x9ca71b+_0x1e59f9(0x136):_0x1f0bd5+=_0x1e59f9(0x16e)+_0x9ca71b+')\x22>'+_0x9ca71b+_0x1e59f9(0x136);}_0x481941>0x5&&_0x203889<_0x481941&&(_0x1f0bd5+='<button\x20onclick=\x22goToPage('+(_0x203889+0x1)+_0x1e59f9(0x143),_0x1f0bd5+='<button\x20onclick=\x22goToPage('+_0x481941+_0x1e59f9(0x261)),_0x4c3694[_0x1e59f9(0x235)]=_0x1f0bd5;}function goToPage(_0x5d1781){const _0xde7432=a0_0x59e4c7;currentPage=_0x5d1781,searchTerm?searchPosts(searchTerm):fetchPosts(),window[_0xde7432(0x278)](0x0,0x0);}async function fetchChannels(){const _0x4c781e=a0_0x59e4c7;try{const _0x39c715=collection(db,_0x4c781e(0x251)),_0x3e9dae=query(_0x39c715,orderBy(_0x4c781e(0x1da),_0x4c781e(0x183))),_0x41636c=await getDocs(_0x3e9dae);let _0xf2bbf8='';_0x41636c[_0x4c781e(0x1b6)]?_0xf2bbf8=_0x4c781e(0x147):_0x41636c[_0x4c781e(0x20c)](_0xbe9930=>{const _0x1b900c=_0x4c781e,_0x44753a=_0xbe9930['data'](),_0x1ce07c=formatDate(_0x44753a[_0x1b900c(0x155)]),_0x35c7a2=_0x44753a[_0x1b900c(0x22c)]===_0x1b900c(0x15d)?'green':'red',_0x1e05cf=_0x44753a[_0x1b900c(0x22c)]===_0x1b900c(0x15d)?_0x1b900c(0x153):'없음';_0xf2bbf8+=_0x1b900c(0x121)+_0x35c7a2+_0x1b900c(0x150)+_0xbe9930['id']+_0x1b900c(0x1a6)+_0xbe9930['id']+_0x1b900c(0x13a)+_0x44753a[_0x1b900c(0x1da)]+_0x1b900c(0x268)+_0x1e05cf+_0x1b900c(0x193)+_0x1ce07c+_0x1b900c(0x1a0);}),document[_0x4c781e(0x171)](_0x4c781e(0x21d))[_0x4c781e(0x235)]=_0xf2bbf8;}catch(_0x5b7435){console['error']('채널\x20목록\x20로딩\x20오류:',_0x5b7435),showToast('채널\x20목록을\x20불러오는\x20중\x20오류가\x20발생했습니다.');}}async function writePost(){const _0x5ec855=a0_0x59e4c7,_0x41ddb5=document['getElementById'](_0x5ec855(0x24a))['value'][_0x5ec855(0x237)](),_0x158fc5=document[_0x5ec855(0x171)](_0x5ec855(0x27b))['value'][_0x5ec855(0x237)]();if(!_0x41ddb5||!_0x158fc5){showToast(_0x5ec855(0x10d));return;}try{const _0x8331c2=Math['floor'](Date[_0x5ec855(0x24d)]()/0x3e8);let _0x3f171a=userNickname,_0x1e8d28=userAvatarColor;if(!_0x3f171a)try{const _0x478293=await getDoc(doc(db,_0x5ec855(0x23d),currentUser[_0x5ec855(0x1a3)]));_0x478293[_0x5ec855(0x208)]()&&(_0x3f171a=_0x478293[_0x5ec855(0x17e)]()[_0x5ec855(0x1d7)],_0x1e8d28=_0x478293[_0x5ec855(0x17e)]()[_0x5ec855(0x1af)]||_0x5ec855(0x27c));}catch(_0x3674d2){console[_0x5ec855(0x265)](_0x5ec855(0x272),_0x3674d2);}await addDoc(collection(db,_0x5ec855(0x1ac)),{'title':_0x41ddb5,'content':_0x158fc5,'author':currentUser[_0x5ec855(0x14e)][_0x5ec855(0x1ca)]('@')[0x0],'nickname':_0x3f171a||currentUser['email']['split']('@')[0x0],'authorId':currentUser['uid'],'avatarColor':_0x1e8d28,'timestamp':_0x8331c2,'views':0x0,'likes':0x0,'dislikes':0x0,'voters':{}});const _0x393e0c=doc(db,_0x5ec855(0x23d),currentUser[_0x5ec855(0x1a3)]);await updateDoc(_0x393e0c,{'postCount':increment(0x1)}),showToast(_0x5ec855(0x172)),writeModal['style'][_0x5ec855(0x18e)]='none',document['getElementById'](_0x5ec855(0x24a))[_0x5ec855(0x242)]='',document[_0x5ec855(0x171)](_0x5ec855(0x27b))[_0x5ec855(0x242)]='',fetchPosts();}catch(_0x51f99b){console[_0x5ec855(0x265)](_0x5ec855(0x189),_0x51f99b),showToast('글\x20작성\x20중\x20오류가\x20발생했습니다.');}}async function addChannel(){const _0x562b9e=a0_0x59e4c7,_0x14708a=document[_0x562b9e(0x171)](_0x562b9e(0x211))[_0x562b9e(0x242)][_0x562b9e(0x237)](),_0xa46351=document[_0x562b9e(0x171)](_0x562b9e(0x25b))[_0x562b9e(0x242)],_0x3674e4=document[_0x562b9e(0x171)](_0x562b9e(0x226))[_0x562b9e(0x242)]['trim']();if(!_0x14708a){showToast(_0x562b9e(0x20d));return;}const _0x139d4e=/^[a-zA-Z]-[\uAC00-\uD7A3a-zA-Z0-9]+$/;if(!_0x139d4e[_0x562b9e(0x1fe)](_0x14708a)){showToast(_0x562b9e(0x255));return;}try{const _0x3ff99c=collection(db,_0x562b9e(0x251)),_0x1e0b49=query(_0x3ff99c,where(_0x562b9e(0x1da),'==',_0x14708a)),_0x41fc8d=await getDocs(_0x1e0b49);if(!_0x41fc8d[_0x562b9e(0x1b6)]){showToast(_0x562b9e(0x17a));return;}const _0x493061=Math['floor'](Date['now']()/0x3e8);let _0x5cc1d4=userNickname,_0x1396eb=userAvatarColor;if(!_0x5cc1d4)try{const _0x3c34c0=await getDoc(doc(db,'users',currentUser[_0x562b9e(0x1a3)]));_0x3c34c0['exists']()&&(_0x5cc1d4=_0x3c34c0[_0x562b9e(0x17e)]()['nickname'],_0x1396eb=_0x3c34c0[_0x562b9e(0x17e)]()[_0x562b9e(0x1af)]||_0x562b9e(0x27c));}catch(_0x323b05){console[_0x562b9e(0x265)](_0x562b9e(0x272),_0x323b05);}await addDoc(collection(db,'channels'),{'name':_0x14708a,'status':_0xa46351,'description':_0x3674e4,'author':currentUser[_0x562b9e(0x14e)][_0x562b9e(0x1ca)]('@')[0x0],'nickname':_0x5cc1d4||currentUser[_0x562b9e(0x14e)]['split']('@')[0x0],'authorId':currentUser[_0x562b9e(0x1a3)],'avatarColor':_0x1396eb,'timestamp':_0x493061,'likes':0x0,'dislikes':0x0,'voters':{}}),showToast(_0x562b9e(0x130)),channelModal['style']['display']='none',document[_0x562b9e(0x171)](_0x562b9e(0x211))['value']='',document[_0x562b9e(0x171)](_0x562b9e(0x226))[_0x562b9e(0x242)]='',document[_0x562b9e(0x171)](_0x562b9e(0x25b))['value']=_0x562b9e(0x15d),fetchChannels();}catch(_0x266522){console[_0x562b9e(0x265)](_0x562b9e(0x181),_0x266522),showToast(_0x562b9e(0x21e));}}async function viewPost(_0x1c2a53){const _0x321f74=a0_0x59e4c7;console[_0x321f74(0x1be)](_0x321f74(0x23e),_0x1c2a53);try{currentPostId=_0x1c2a53;const _0x72aac1=doc(db,_0x321f74(0x1ac),_0x1c2a53),_0x2d4c79=await getDoc(_0x72aac1);console['log'](_0x321f74(0x1e1),_0x2d4c79['exists']()?_0x321f74(0x17d):_0x321f74(0x219));if(_0x2d4c79['exists']()){const _0x326b1a=_0x2d4c79[_0x321f74(0x17e)]();currentUser&&currentUser[_0x321f74(0x1a3)]!==_0x326b1a[_0x321f74(0x1b4)]&&await updateDoc(doc(db,_0x321f74(0x1ac),_0x1c2a53),{'views':increment(0x1)});const _0x55810c=_0x326b1a[_0x321f74(0x1af)]||_0x321f74(0x27c),_0x4a0a09=getInitial(_0x326b1a['nickname']||_0x326b1a[_0x321f74(0x1b9)]),_0x51592a=formatDate(_0x326b1a['timestamp']);document[_0x321f74(0x171)]('viewTitle')[_0x321f74(0x157)]=_0x326b1a[_0x321f74(0x263)],document[_0x321f74(0x171)]('viewAuthor')['textContent']=_0x326b1a['nickname']||_0x326b1a['author'],document['getElementById'](_0x321f74(0x17c))[_0x321f74(0x157)]=_0x4a0a09,document['getElementById'](_0x321f74(0x17c))[_0x321f74(0x14f)][_0x321f74(0x17f)]=_0x55810c,document[_0x321f74(0x171)](_0x321f74(0x141))[_0x321f74(0x157)]=_0x51592a,document['getElementById'](_0x321f74(0x1bc))['textContent']=(_0x326b1a[_0x321f74(0x1d3)]||0x0)+0x1,document[_0x321f74(0x171)](_0x321f74(0x186))['textContent']=_0x326b1a[_0x321f74(0x182)]||0x0,document['getElementById'](_0x321f74(0x1b8))['textContent']=_0x326b1a[_0x321f74(0x25d)]||0x0,document[_0x321f74(0x171)]('viewContent')[_0x321f74(0x157)]=_0x326b1a[_0x321f74(0x216)]||'',document['getElementById'](_0x321f74(0x270))[_0x321f74(0x242)]=_0x326b1a['title'],document[_0x321f74(0x171)]('editContent')['value']=_0x326b1a[_0x321f74(0x216)]||'';const _0x933d21=document[_0x321f74(0x171)](_0x321f74(0x1ea));currentUser&&currentUser['uid']===_0x326b1a[_0x321f74(0x1b4)]?_0x933d21[_0x321f74(0x14f)][_0x321f74(0x18e)]=_0x321f74(0x1bd):_0x933d21[_0x321f74(0x14f)][_0x321f74(0x18e)]=_0x321f74(0x138),updateVoteButtonsState('post',_0x326b1a),await loadComments(_0x1c2a53),viewModal['style'][_0x321f74(0x18e)]=_0x321f74(0x1bd);}else showToast(_0x321f74(0x18f));}catch(_0x2abc9e){console[_0x321f74(0x265)]('게시글\x20조회\x20오류:',_0x2abc9e),console[_0x321f74(0x265)](_0x321f74(0x119),_0x2abc9e[_0x321f74(0x113)]),console['error'](_0x321f74(0x128),_0x2abc9e[_0x321f74(0x111)]),showToast(_0x321f74(0x159));}}async function viewChannel(_0x46adce){const _0x2b1273=a0_0x59e4c7;try{currentChannelId=_0x46adce;const _0x53d345=await getDoc(doc(db,_0x2b1273(0x251),_0x46adce));if(_0x53d345[_0x2b1273(0x208)]()){const _0x1606ea=_0x53d345[_0x2b1273(0x17e)](),_0x206f55=_0x1606ea[_0x2b1273(0x1af)]||_0x2b1273(0x27c),_0x5878ae=getInitial(_0x1606ea[_0x2b1273(0x1d7)]||_0x1606ea[_0x2b1273(0x1b9)]),_0x35509a=formatDate(_0x1606ea[_0x2b1273(0x155)]),_0x8d915f=_0x1606ea[_0x2b1273(0x22c)]===_0x2b1273(0x15d)?'등장\x20중':'없음';document[_0x2b1273(0x171)]('viewChannelTitle')[_0x2b1273(0x157)]=_0x1606ea[_0x2b1273(0x1da)],document[_0x2b1273(0x171)](_0x2b1273(0x124))[_0x2b1273(0x157)]=_0x1606ea[_0x2b1273(0x1d7)]||_0x1606ea[_0x2b1273(0x1b9)],document[_0x2b1273(0x171)](_0x2b1273(0x241))[_0x2b1273(0x157)]=_0x5878ae,document[_0x2b1273(0x171)](_0x2b1273(0x241))[_0x2b1273(0x14f)]['backgroundColor']=_0x206f55,document[_0x2b1273(0x171)](_0x2b1273(0x152))[_0x2b1273(0x157)]=_0x35509a,document['getElementById'](_0x2b1273(0x117))['textContent']=_0x8d915f,document[_0x2b1273(0x171)](_0x2b1273(0x117))[_0x2b1273(0x14f)][_0x2b1273(0x26b)]=_0x1606ea['status']===_0x2b1273(0x15d)?_0x2b1273(0x1ef):_0x2b1273(0x1f0),document[_0x2b1273(0x171)](_0x2b1273(0x1a2))['textContent']=_0x1606ea[_0x2b1273(0x182)]||0x0,document[_0x2b1273(0x171)](_0x2b1273(0x11c))['textContent']=_0x1606ea[_0x2b1273(0x25d)]||0x0,document['getElementById']('viewChannelContent')[_0x2b1273(0x157)]=_0x1606ea[_0x2b1273(0x129)]||'',document[_0x2b1273(0x171)]('editChannelName')[_0x2b1273(0x242)]=_0x1606ea['name'],document[_0x2b1273(0x171)](_0x2b1273(0x14d))[_0x2b1273(0x242)]=_0x1606ea[_0x2b1273(0x22c)],document[_0x2b1273(0x171)](_0x2b1273(0x238))[_0x2b1273(0x242)]=_0x1606ea[_0x2b1273(0x129)]||'';const _0x3dcb13=document[_0x2b1273(0x171)](_0x2b1273(0x198));currentUser&&currentUser['uid']===_0x1606ea[_0x2b1273(0x1b4)]?_0x3dcb13[_0x2b1273(0x14f)]['display']=_0x2b1273(0x1bd):_0x3dcb13[_0x2b1273(0x14f)][_0x2b1273(0x18e)]=_0x2b1273(0x138),updateVoteButtonsState('channel',_0x1606ea),await loadChannelComments(_0x46adce),viewChannelModal['style'][_0x2b1273(0x18e)]=_0x2b1273(0x1bd);}else showToast(_0x2b1273(0x1ec));}catch(_0x1b260e){console[_0x2b1273(0x265)](_0x2b1273(0x1ed),_0x1b260e),showToast(_0x2b1273(0x234));}}function a0_0x224a(_0x23cc42,_0x11e13f){const _0x338f1d=a0_0x338f();return a0_0x224a=function(_0x224a44,_0x179197){_0x224a44=_0x224a44-0x103;let _0x5ac1d9=_0x338f1d[_0x224a44];return _0x5ac1d9;},a0_0x224a(_0x23cc42,_0x11e13f);}async function updatePost(){const _0x1f2003=a0_0x59e4c7,_0xc099b2=document['getElementById']('editTitle')[_0x1f2003(0x242)][_0x1f2003(0x237)](),_0x47e709=document['getElementById'](_0x1f2003(0x19a))[_0x1f2003(0x242)][_0x1f2003(0x237)]();if(!_0xc099b2||!_0x47e709){showToast(_0x1f2003(0x10d));return;}try{await updateDoc(doc(db,_0x1f2003(0x1ac),currentPostId),{'title':_0xc099b2,'content':_0x47e709,'lastEdited':Math[_0x1f2003(0x239)](Date[_0x1f2003(0x24d)]()/0x3e8)}),showToast(_0x1f2003(0x1a9)),document[_0x1f2003(0x171)](_0x1f2003(0x246))['style'][_0x1f2003(0x18e)]=_0x1f2003(0x138),document[_0x1f2003(0x171)](_0x1f2003(0x109))[_0x1f2003(0x14f)][_0x1f2003(0x18e)]=_0x1f2003(0x1bd),document['getElementById'](_0x1f2003(0x12d))[_0x1f2003(0x157)]=_0xc099b2,document['getElementById'](_0x1f2003(0x109))[_0x1f2003(0x157)]=_0x47e709,fetchPosts();}catch(_0x47ab1c){console[_0x1f2003(0x265)](_0x1f2003(0x1b0),_0x47ab1c),showToast(_0x1f2003(0x20e));}}async function updateChannel(){const _0x3c3f29=a0_0x59e4c7,_0x4e39ee=document[_0x3c3f29(0x171)](_0x3c3f29(0x112))['value'][_0x3c3f29(0x237)](),_0x13b4e3=document['getElementById'](_0x3c3f29(0x14d))[_0x3c3f29(0x242)],_0x566300=document['getElementById'](_0x3c3f29(0x238))[_0x3c3f29(0x242)][_0x3c3f29(0x237)]();if(!_0x4e39ee){showToast(_0x3c3f29(0x20d));return;}const _0x466b53=/^[a-zA-Z]-[\uAC00-\uD7A3a-zA-Z0-9]+[0-9]+$/;if(!_0x466b53[_0x3c3f29(0x1fe)](_0x4e39ee)){showToast('채널\x20이름은\x20\x27문자-문자숫자\x27\x20형식이어야\x20합니다.\x20예:\x20a-빅101');return;}try{const _0x29fa0a=await getDoc(doc(db,'channels',currentChannelId)),_0x268ef6=_0x29fa0a[_0x3c3f29(0x17e)]();if(_0x4e39ee!==_0x268ef6[_0x3c3f29(0x1da)]){const _0x13958e=collection(db,_0x3c3f29(0x251)),_0x2c8b15=query(_0x13958e,where('name','==',_0x4e39ee)),_0x41a2c7=await getDocs(_0x2c8b15);if(!_0x41a2c7[_0x3c3f29(0x1b6)]){showToast(_0x3c3f29(0x17a));return;}}await updateDoc(doc(db,_0x3c3f29(0x251),currentChannelId),{'name':_0x4e39ee,'status':_0x13b4e3,'description':_0x566300,'lastEdited':Math[_0x3c3f29(0x239)](Date['now']()/0x3e8)}),showToast(_0x3c3f29(0x140)),document[_0x3c3f29(0x171)](_0x3c3f29(0x1d8))[_0x3c3f29(0x14f)][_0x3c3f29(0x18e)]=_0x3c3f29(0x138),document[_0x3c3f29(0x171)]('viewChannelContent')[_0x3c3f29(0x14f)][_0x3c3f29(0x18e)]='block',document[_0x3c3f29(0x171)](_0x3c3f29(0x12f))[_0x3c3f29(0x157)]=_0x4e39ee,document[_0x3c3f29(0x171)](_0x3c3f29(0x117))[_0x3c3f29(0x157)]=_0x13b4e3===_0x3c3f29(0x15d)?_0x3c3f29(0x153):'없음',document[_0x3c3f29(0x171)]('viewChannelStatus')[_0x3c3f29(0x14f)][_0x3c3f29(0x26b)]=_0x13b4e3===_0x3c3f29(0x15d)?'#4caf50':_0x3c3f29(0x1f0),document[_0x3c3f29(0x171)](_0x3c3f29(0x1e2))[_0x3c3f29(0x157)]=_0x566300,fetchChannels();}catch(_0x3da3b6){console['error']('채널\x20수정\x20오류:',_0x3da3b6),showToast('채널\x20수정\x20중\x20오류가\x20발생했습니다.');}}async function deletePost(){const _0x5ee484=a0_0x59e4c7;if(!confirm(_0x5ee484(0x22a)))return;try{await deleteDoc(doc(db,_0x5ee484(0x1ac),currentPostId));const _0x147cee=collection(db,_0x5ee484(0x180)),_0x45d67b=query(_0x147cee,where(_0x5ee484(0x249),'==',currentPostId)),_0xa2a82f=await getDocs(_0x45d67b);_0xa2a82f[_0x5ee484(0x20c)](async _0x485a85=>{const _0x333803=_0x5ee484;await deleteDoc(doc(db,_0x333803(0x180),_0x485a85['id']));});const _0x319dd1=doc(db,_0x5ee484(0x23d),currentUser[_0x5ee484(0x1a3)]);await updateDoc(_0x319dd1,{'postCount':increment(-0x1)}),showToast(_0x5ee484(0x258)),viewModal['style'][_0x5ee484(0x18e)]=_0x5ee484(0x138),fetchPosts();}catch(_0x3dc1aa){console[_0x5ee484(0x265)](_0x5ee484(0x105),_0x3dc1aa),showToast(_0x5ee484(0x1eb));}}async function deleteChannel(){const _0x6e63ed=a0_0x59e4c7;if(!confirm(_0x6e63ed(0x20f)))return;try{await deleteDoc(doc(db,_0x6e63ed(0x251),currentChannelId));const _0x334ed0=collection(db,_0x6e63ed(0x1ff)),_0x278272=query(_0x334ed0,where(_0x6e63ed(0x21c),'==',currentChannelId)),_0x3ae765=await getDocs(_0x278272);_0x3ae765[_0x6e63ed(0x20c)](async _0x46a17d=>{await deleteDoc(doc(db,'channelComments',_0x46a17d['id']));}),showToast(_0x6e63ed(0x168)),viewChannelModal[_0x6e63ed(0x14f)][_0x6e63ed(0x18e)]=_0x6e63ed(0x138),fetchChannels();}catch(_0x453b75){console[_0x6e63ed(0x265)](_0x6e63ed(0x142),_0x453b75),showToast(_0x6e63ed(0x253));}}async function votePost(_0x2fdf75,_0x214618){const _0x34a7aa=a0_0x59e4c7;if(!currentUser){showToast(_0x34a7aa(0x217));return;}try{const _0x38aef8=doc(db,_0x2fdf75===_0x34a7aa(0x1b7)?_0x34a7aa(0x1ac):_0x34a7aa(0x251),_0x2fdf75===_0x34a7aa(0x1b7)?currentPostId:currentChannelId),_0x444fd2=await getDoc(_0x38aef8);if(!_0x444fd2[_0x34a7aa(0x208)]()){showToast(_0x34a7aa(0x1a7));return;}const _0x3b4701=_0x444fd2[_0x34a7aa(0x17e)](),_0x30c758=_0x3b4701[_0x34a7aa(0x23a)]||{},_0x3b009a=currentUser['uid'],_0x2b54a3=new Date()[_0x34a7aa(0x118)]()['split']('T')[0x0];if(_0x30c758[_0x3b009a]&&_0x30c758[_0x3b009a][_0x34a7aa(0x10f)]===_0x2b54a3){showToast(_0x34a7aa(0x203));return;}const _0x251ad5={};_0x30c758[_0x3b009a]&&(_0x30c758[_0x3b009a][_0x34a7aa(0x13f)]===_0x34a7aa(0x11e)?_0x251ad5[_0x34a7aa(0x182)]=increment(-0x1):_0x251ad5[_0x34a7aa(0x25d)]=increment(-0x1));_0x214618===_0x34a7aa(0x11e)?_0x251ad5[_0x34a7aa(0x182)]=increment(0x1):_0x251ad5[_0x34a7aa(0x25d)]=increment(0x1);_0x30c758[_0x3b009a]={'type':_0x214618,'date':_0x2b54a3},_0x251ad5[_0x34a7aa(0x23a)]=_0x30c758,await updateDoc(_0x38aef8,_0x251ad5);if(_0x214618==='like'&&(!_0x30c758[_0x3b009a]||_0x30c758[_0x3b009a]['type']!==_0x34a7aa(0x11e)))try{const _0x44471c=doc(db,_0x34a7aa(0x23d),_0x3b4701[_0x34a7aa(0x1b4)]);await updateDoc(_0x44471c,{'likeCount':increment(0x1)});}catch(_0x1efc0c){console[_0x34a7aa(0x265)](_0x34a7aa(0x1f8),_0x1efc0c);}_0x2fdf75===_0x34a7aa(0x1b7)?(document[_0x34a7aa(0x171)](_0x34a7aa(0x186))['textContent']=(_0x3b4701['likes']||0x0)+(_0x214618==='like'?0x1:0x0)-(_0x30c758[_0x3b009a]&&_0x30c758[_0x3b009a][_0x34a7aa(0x13f)]===_0x34a7aa(0x11e)?0x1:0x0),document[_0x34a7aa(0x171)](_0x34a7aa(0x1b8))[_0x34a7aa(0x157)]=(_0x3b4701[_0x34a7aa(0x25d)]||0x0)+(_0x214618==='dislike'?0x1:0x0)-(_0x30c758[_0x3b009a]&&_0x30c758[_0x3b009a][_0x34a7aa(0x13f)]===_0x34a7aa(0x252)?0x1:0x0),document[_0x34a7aa(0x171)](_0x34a7aa(0x250))[_0x34a7aa(0x14f)][_0x34a7aa(0x17f)]=_0x214618===_0x34a7aa(0x11e)?_0x34a7aa(0x11d):_0x34a7aa(0x27c),document['getElementById'](_0x34a7aa(0x1bb))[_0x34a7aa(0x14f)][_0x34a7aa(0x17f)]=_0x214618==='dislike'?_0x34a7aa(0x184):_0x34a7aa(0x165)):(document['getElementById']('channelLikeCount')[_0x34a7aa(0x157)]=(_0x3b4701[_0x34a7aa(0x182)]||0x0)+(_0x214618===_0x34a7aa(0x11e)?0x1:0x0)-(_0x30c758[_0x3b009a]&&_0x30c758[_0x3b009a][_0x34a7aa(0x13f)]==='like'?0x1:0x0),document[_0x34a7aa(0x171)](_0x34a7aa(0x11c))[_0x34a7aa(0x157)]=(_0x3b4701[_0x34a7aa(0x25d)]||0x0)+(_0x214618===_0x34a7aa(0x252)?0x1:0x0)-(_0x30c758[_0x3b009a]&&_0x30c758[_0x3b009a][_0x34a7aa(0x13f)]===_0x34a7aa(0x252)?0x1:0x0),document[_0x34a7aa(0x171)](_0x34a7aa(0x202))[_0x34a7aa(0x14f)]['backgroundColor']=_0x214618===_0x34a7aa(0x11e)?_0x34a7aa(0x11d):_0x34a7aa(0x27c),document[_0x34a7aa(0x171)](_0x34a7aa(0x19f))[_0x34a7aa(0x14f)][_0x34a7aa(0x17f)]=_0x214618==='dislike'?_0x34a7aa(0x184):_0x34a7aa(0x165)),showToast(_0x214618===_0x34a7aa(0x11e)?_0x34a7aa(0x148):_0x34a7aa(0x12c));}catch(_0x2e81b8){console[_0x34a7aa(0x265)]('투표\x20오류:',_0x2e81b8),showToast('투표\x20중\x20오류가\x20발생했습니다.');}}function updateVoteButtonsState(_0x13514e,_0x2cb46c){const _0x4507bf=a0_0x59e4c7;if(!currentUser)return;const _0xd3b99e=_0x2cb46c[_0x4507bf(0x23a)]||{},_0x1d3f89=currentUser['uid'],_0x32c03c=new Date()['toISOString']()[_0x4507bf(0x1ca)]('T')[0x0];_0xd3b99e[_0x1d3f89]&&_0xd3b99e[_0x1d3f89][_0x4507bf(0x10f)]===_0x32c03c?_0x13514e===_0x4507bf(0x1b7)?(document[_0x4507bf(0x171)](_0x4507bf(0x250))[_0x4507bf(0x14f)][_0x4507bf(0x17f)]=_0xd3b99e[_0x1d3f89]['type']===_0x4507bf(0x11e)?_0x4507bf(0x11d):_0x4507bf(0x27c),document[_0x4507bf(0x171)](_0x4507bf(0x1bb))[_0x4507bf(0x14f)][_0x4507bf(0x17f)]=_0xd3b99e[_0x1d3f89]['type']===_0x4507bf(0x252)?'#c9302c':_0x4507bf(0x165)):(document[_0x4507bf(0x171)](_0x4507bf(0x202))['style'][_0x4507bf(0x17f)]=_0xd3b99e[_0x1d3f89][_0x4507bf(0x13f)]===_0x4507bf(0x11e)?_0x4507bf(0x11d):_0x4507bf(0x27c),document[_0x4507bf(0x171)](_0x4507bf(0x19f))['style']['backgroundColor']=_0xd3b99e[_0x1d3f89][_0x4507bf(0x13f)]===_0x4507bf(0x252)?'#c9302c':'#ff4d4d'):_0x13514e==='post'?(document['getElementById']('likeBtn')[_0x4507bf(0x14f)][_0x4507bf(0x17f)]=_0x4507bf(0x27c),document['getElementById'](_0x4507bf(0x1bb))[_0x4507bf(0x14f)][_0x4507bf(0x17f)]='#ff4d4d'):(document[_0x4507bf(0x171)](_0x4507bf(0x202))['style'][_0x4507bf(0x17f)]='#4da6ff',document[_0x4507bf(0x171)]('channelDislikeBtn')[_0x4507bf(0x14f)][_0x4507bf(0x17f)]=_0x4507bf(0x165));}async function loadComments(_0x5cc58a){const _0x19efd6=a0_0x59e4c7;try{if(!_0x5cc58a){document[_0x19efd6(0x171)](_0x19efd6(0x180))['innerHTML']=_0x19efd6(0x13d);return;}const _0xe69ee=collection(db,_0x19efd6(0x180)),_0x2f0ba6=query(_0xe69ee,where(_0x19efd6(0x249),'==',_0x5cc58a),orderBy(_0x19efd6(0x155),_0x19efd6(0x183))),_0x30dc77=await getDocs(_0x2f0ba6),_0x49a0ef=[];_0x30dc77['forEach'](_0x58505d=>{const _0x2af46e=_0x19efd6;_0x49a0ef[_0x2af46e(0x206)]({'id':_0x58505d['id'],..._0x58505d['data']()});});const _0x4f019b=_0x49a0ef[_0x19efd6(0x114)]===0x0?_0x19efd6(0x110):renderCommentsTree(_0x49a0ef);document['getElementById'](_0x19efd6(0x180))['innerHTML']=_0x4f019b;}catch(_0x288f4c){document['getElementById'](_0x19efd6(0x180))[_0x19efd6(0x235)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#ff6b6b;\x22>댓글\x20로딩\x20중\x20오류가\x20발생했습니다:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22color:\x20#ff6b6b;\x20font-size:\x200.9em;\x22>'+_0x288f4c[_0x19efd6(0x20b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}async function loadChannelComments(_0x19845f){const _0x26ea3e=a0_0x59e4c7;try{if(!_0x19845f){document[_0x26ea3e(0x171)](_0x26ea3e(0x1ff))['innerHTML']=_0x26ea3e(0x19b);return;}const _0x107649=collection(db,_0x26ea3e(0x1ff)),_0x100ec3=query(_0x107649,where(_0x26ea3e(0x21c),'==',_0x19845f),orderBy(_0x26ea3e(0x155),_0x26ea3e(0x183))),_0x18b87c=await getDocs(_0x100ec3),_0x43cc5d=[];_0x18b87c[_0x26ea3e(0x20c)](_0x1f5e3e=>{const _0x4960cc=_0x26ea3e;_0x43cc5d[_0x4960cc(0x206)]({'id':_0x1f5e3e['id'],..._0x1f5e3e['data']()});});const _0xaa347c=_0x43cc5d[_0x26ea3e(0x114)]===0x0?'<p>아직\x20댓글이\x20없습니다.</p>':renderCommentsTree(_0x43cc5d);document[_0x26ea3e(0x171)]('channelComments')[_0x26ea3e(0x235)]=_0xaa347c;}catch(_0x1e21fc){document[_0x26ea3e(0x171)](_0x26ea3e(0x1ff))[_0x26ea3e(0x235)]=_0x26ea3e(0x21b)+_0x1e21fc['message']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}async function submitComment(){const _0x3ea486=a0_0x59e4c7;if(!currentUser){showToast('댓글을\x20작성하려면\x20로그인이\x20필요합니다.');return;}const _0x148a56=Date[_0x3ea486(0x24d)]();if(_0x148a56-lastCommentTime<0x1388){showToast(_0x3ea486(0x1fa));return;}lastCommentTime=_0x148a56;const _0x5af803=document[_0x3ea486(0x171)](_0x3ea486(0x132))['value'][_0x3ea486(0x237)]();if(!_0x5af803){showToast(_0x3ea486(0x25c));return;}try{let _0x3d0c10=userNickname,_0xc0e66c=userAvatarColor;if(!_0x3d0c10)try{const _0x18dfa7=await getDoc(doc(db,'users',currentUser[_0x3ea486(0x1a3)]));_0x18dfa7[_0x3ea486(0x208)]()&&(_0x3d0c10=_0x18dfa7[_0x3ea486(0x17e)]()[_0x3ea486(0x1d7)],_0xc0e66c=_0x18dfa7[_0x3ea486(0x17e)]()[_0x3ea486(0x1af)]||_0x3ea486(0x27c));}catch(_0x3ca274){console['error']('사용자\x20정보\x20로딩\x20오류:',_0x3ca274);}await addDoc(collection(db,_0x3ea486(0x180)),{'postId':currentPostId,'content':_0x5af803,'author':currentUser[_0x3ea486(0x14e)]['split']('@')[0x0],'nickname':_0x3d0c10||currentUser[_0x3ea486(0x14e)][_0x3ea486(0x1ca)]('@')[0x0],'authorId':currentUser[_0x3ea486(0x1a3)],'avatarColor':_0xc0e66c,'timestamp':Math['floor'](Date[_0x3ea486(0x24d)]()/0x3e8),'parentId':replyToCommentId||null});const _0xad5f31=doc(db,'posts',currentPostId);await updateDoc(_0xad5f31,{'commentCount':increment(0x1)});const _0x44e26b=doc(db,_0x3ea486(0x23d),currentUser[_0x3ea486(0x1a3)]);await updateDoc(_0x44e26b,{'commentCount':increment(0x1)}),document[_0x3ea486(0x171)](_0x3ea486(0x132))['value']='',await loadComments(currentPostId);}catch(_0x3af7f3){console[_0x3ea486(0x265)](_0x3ea486(0x14b),_0x3af7f3),showToast(_0x3ea486(0x1e4));}scrollToBottom();}async function submitChannelComment(){const _0x112ff8=a0_0x59e4c7;if(!currentUser){showToast(_0x112ff8(0x1ce));return;}const _0x5d6bc0=document['getElementById'](_0x112ff8(0x247))['value']['trim']();if(!_0x5d6bc0){showToast('댓글\x20내용을\x20입력해주세요.');return;}try{let _0x3531fb=userNickname,_0x56b4c5=userAvatarColor;if(!_0x3531fb)try{const _0x4a8393=await getDoc(doc(db,'users',currentUser[_0x112ff8(0x1a3)]));_0x4a8393[_0x112ff8(0x208)]()&&(_0x3531fb=_0x4a8393[_0x112ff8(0x17e)]()[_0x112ff8(0x1d7)],_0x56b4c5=_0x4a8393[_0x112ff8(0x17e)]()[_0x112ff8(0x1af)]||_0x112ff8(0x27c));}catch(_0x49d93a){console['error'](_0x112ff8(0x272),_0x49d93a);}const _0x111833=doc(db,'users',currentUser[_0x112ff8(0x1a3)]),_0x305901=await getDoc(_0x111833);!_0x305901[_0x112ff8(0x208)]()?await setDoc(_0x111833,{'commentCount':0x1,'nickname':_0x3531fb||currentUser['email'][_0x112ff8(0x1ca)]('@')[0x0],'avatarColor':_0x56b4c5||_0x112ff8(0x27c)}):await updateDoc(_0x111833,{'commentCount':increment(0x1)}),await addDoc(collection(db,_0x112ff8(0x1ff)),{'channelId':currentChannelId,'content':_0x5d6bc0,'author':currentUser['email']['split']('@')[0x0],'nickname':_0x3531fb||currentUser[_0x112ff8(0x14e)][_0x112ff8(0x1ca)]('@')[0x0],'authorId':currentUser[_0x112ff8(0x1a3)],'avatarColor':_0x56b4c5,'timestamp':Math['floor'](Date['now']()/0x3e8),'parentId':replyToCommentId||null}),document['getElementById']('channelCommentText')[_0x112ff8(0x242)]='',await loadChannelComments(currentChannelId);}catch(_0xcafc6e){console[_0x112ff8(0x265)]('채널\x20댓글\x20작성\x20오류:',_0xcafc6e),showToast('댓글\x20작성\x20중\x20오류가\x20발생했습니다.');}scrollToBottom();}async function deleteComment(_0x539450){const _0xbbcbef=a0_0x59e4c7;if(!confirm(_0xbbcbef(0x18c)))return;try{const _0x7fa00=await getDoc(doc(db,_0xbbcbef(0x180),_0x539450));if(_0x7fa00[_0xbbcbef(0x208)]()){const _0x5dc5af=_0x7fa00[_0xbbcbef(0x17e)](),_0x3d427e=_0x5dc5af['postId'];await deleteDoc(doc(db,_0xbbcbef(0x180),_0x539450));const _0x15dc72=doc(db,'posts',_0x3d427e);await updateDoc(_0x15dc72,{'commentCount':increment(-0x1)});const _0x1f2060=doc(db,'users',currentUser['uid']);await updateDoc(_0x1f2060,{'commentCount':increment(-0x1)}),showToast(_0xbbcbef(0x156)),await loadComments(currentPostId);}}catch(_0x38b1fa){console[_0xbbcbef(0x265)](_0xbbcbef(0x205),_0x38b1fa),showToast(_0xbbcbef(0x154));}}async function deleteChannelComment(_0x29b57c){const _0x305ff2=a0_0x59e4c7;if(!confirm('정말\x20이\x20댓글을\x20삭제하시겠습니까?'))return;try{await deleteDoc(doc(db,'channelComments',_0x29b57c));const _0x6fc754=doc(db,_0x305ff2(0x23d),currentUser['uid']);await updateDoc(_0x6fc754,{'commentCount':increment(-0x1)}),showToast('댓글이\x20삭제되었습니다.'),await loadChannelComments(currentChannelId);}catch(_0x29b336){console[_0x305ff2(0x265)](_0x305ff2(0x1b5),_0x29b336),showToast(_0x305ff2(0x154));}}async function loadProfile(){const _0xbdc286=a0_0x59e4c7;if(!currentUser)return;try{const _0x54e048=await getDoc(doc(db,_0xbdc286(0x23d),currentUser[_0xbdc286(0x1a3)]));if(_0x54e048['exists']()){const _0x276559=_0x54e048[_0xbdc286(0x17e)]();document[_0xbdc286(0x171)](_0xbdc286(0x1db))[_0xbdc286(0x157)]=_0x276559[_0xbdc286(0x1d7)]||currentUser[_0xbdc286(0x14e)][_0xbdc286(0x1ca)]('@')[0x0],document[_0xbdc286(0x171)](_0xbdc286(0x223))[_0xbdc286(0x157)]=_0x276559[_0xbdc286(0x14e)]||currentUser[_0xbdc286(0x14e)],document[_0xbdc286(0x171)]('profilePostCount')['textContent']=_0x276559[_0xbdc286(0x254)]||0x0,document[_0xbdc286(0x171)](_0xbdc286(0x224))['textContent']=_0x276559[_0xbdc286(0x145)]||0x0,document[_0xbdc286(0x171)](_0xbdc286(0x276))[_0xbdc286(0x157)]=_0x276559['likeCount']||0x0;const _0x3e2326=_0x276559[_0xbdc286(0x1af)]||_0xbdc286(0x27c),_0x365d9c=getInitial(_0x276559['nickname']||currentUser[_0xbdc286(0x14e)]['split']('@')[0x0]);document['getElementById'](_0xbdc286(0x1de))[_0xbdc286(0x14f)][_0xbdc286(0x17f)]=_0x3e2326,document[_0xbdc286(0x171)]('profileAvatar')[_0xbdc286(0x157)]=_0x365d9c,document[_0xbdc286(0x171)](_0xbdc286(0x1f5))['value']=_0x276559['nickname']||'';const _0x106767=document[_0xbdc286(0x1c0)](_0xbdc286(0x199));_0x106767['forEach'](_0x2738c9=>{const _0x3e7faf=_0xbdc286;_0x2738c9[_0x3e7faf(0x126)]('data-color')===_0x3e2326?_0x2738c9[_0x3e7faf(0x1d5)][_0x3e7faf(0x18a)](_0x3e7faf(0x167)):_0x2738c9[_0x3e7faf(0x1d5)][_0x3e7faf(0x187)](_0x3e7faf(0x167));}),await loadUserPosts();}}catch(_0x1cd647){console[_0xbdc286(0x265)](_0xbdc286(0x12e),_0x1cd647);}}async function loadUserPosts(){const _0x1b4062=a0_0x59e4c7;if(!currentUser)return;try{const _0x5dd82a=collection(db,_0x1b4062(0x1ac)),_0x2f5870=query(_0x5dd82a,where(_0x1b4062(0x1b4),'==',currentUser[_0x1b4062(0x1a3)]),orderBy('timestamp',_0x1b4062(0x22d))),_0x353059=await getDocs(_0x2f5870);let _0x110572='';_0x353059[_0x1b4062(0x1b6)]?_0x110572=_0x1b4062(0x1b2):_0x353059['forEach'](_0xef4055=>{const _0x456fbc=_0x1b4062,_0x62d973=_0xef4055[_0x456fbc(0x17e)](),_0x18db8a=formatDate(_0x62d973[_0x456fbc(0x155)]);_0x110572+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22background:\x20#333;\x20padding:\x2010px;\x20margin-bottom:\x2010px;\x20border-radius:\x205px;\x20cursor:\x20pointer;\x22\x20onclick=\x22viewPost(\x27'+_0xef4055['id']+_0x456fbc(0x15b)+_0x62d973[_0x456fbc(0x263)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22color:\x20#aaa;\x20font-size:\x200.9em;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x18db8a+'</span>\x20|\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>조회:\x20'+(_0x62d973[_0x456fbc(0x1d3)]||0x0)+'</span>\x20|\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>추천:\x20'+((_0x62d973[_0x456fbc(0x182)]||0x0)-(_0x62d973[_0x456fbc(0x25d)]||0x0))+_0x456fbc(0x209);}),document[_0x1b4062(0x171)](_0x1b4062(0x1cc))[_0x1b4062(0x235)]=_0x110572;}catch(_0x57fd08){console['error']('사용자\x20글\x20로딩\x20오류:',_0x57fd08),document[_0x1b4062(0x171)](_0x1b4062(0x1cc))[_0x1b4062(0x235)]=_0x1b4062(0x1e7);}}async function loadUserComments(){const _0x8ca945=a0_0x59e4c7;if(!currentUser)return;try{const _0x53a9b8=collection(db,_0x8ca945(0x180)),_0x1cfc1c=query(_0x53a9b8,where(_0x8ca945(0x1b4),'==',currentUser[_0x8ca945(0x1a3)]),orderBy(_0x8ca945(0x155),_0x8ca945(0x22d))),_0x333350=await getDocs(_0x1cfc1c),_0x199bd9=collection(db,'channelComments'),_0x1f2bbb=query(_0x199bd9,where(_0x8ca945(0x1b4),'==',currentUser[_0x8ca945(0x1a3)]),orderBy(_0x8ca945(0x155),'desc')),_0x22fb87=await getDocs(_0x1f2bbb);let _0x176c50='';if(_0x333350[_0x8ca945(0x1b6)]&&_0x22fb87[_0x8ca945(0x1b6)])_0x176c50=_0x8ca945(0x22f);else{for(const _0x251075 of _0x333350[_0x8ca945(0x1f6)]){const _0x203f15=_0x251075['data'](),_0x220c2b=formatDate(_0x203f15['timestamp']);try{const _0x294c9e=await getDoc(doc(db,'posts',_0x203f15[_0x8ca945(0x249)]));if(_0x294c9e['exists']()){const _0x5f5218=_0x294c9e[_0x8ca945(0x17e)]();_0x176c50+=_0x8ca945(0x260)+_0x203f15[_0x8ca945(0x249)]+'\x27)\x22>'+_0x5f5218['title']+_0x8ca945(0x262)+_0x203f15[_0x8ca945(0x216)]+_0x8ca945(0x13b)+_0x220c2b+_0x8ca945(0x1ab);}}catch(_0x12b138){console['error']('게시글\x20정보\x20로딩\x20오류:',_0x12b138);}}for(const _0x37e80d of _0x22fb87['docs']){const _0x194a53=_0x37e80d[_0x8ca945(0x17e)](),_0x371d1a=formatDate(_0x194a53[_0x8ca945(0x155)]);try{const _0x294079=await getDoc(doc(db,_0x8ca945(0x251),_0x194a53[_0x8ca945(0x21c)]));if(_0x294079[_0x8ca945(0x208)]()){const _0x36f6a7=_0x294079['data']();_0x176c50+=_0x8ca945(0x137)+_0x194a53[_0x8ca945(0x21c)]+_0x8ca945(0x1ae)+_0x36f6a7[_0x8ca945(0x1da)]+_0x8ca945(0x262)+_0x194a53[_0x8ca945(0x216)]+_0x8ca945(0x13b)+_0x371d1a+_0x8ca945(0x1ab);}}catch(_0x48f9d0){console['error'](_0x8ca945(0x1cf),_0x48f9d0);}}}document[_0x8ca945(0x171)](_0x8ca945(0x195))[_0x8ca945(0x235)]=_0x176c50;}catch(_0x55f73a){console[_0x8ca945(0x265)](_0x8ca945(0x14c),_0x55f73a),document[_0x8ca945(0x171)](_0x8ca945(0x195))[_0x8ca945(0x235)]='<p>작성한\x20댓글을\x20불러오는\x20중\x20오류가\x20발생했습니다.</p>';}}async function signUp(_0x25f314,_0x35257b){const _0x2ea831=a0_0x59e4c7,_0xa4454=await createUserWithEmailAndPassword(auth,_0x25f314,_0x35257b),_0x43bad7=_0xa4454['user'];await setDoc(doc(db,'users',_0x43bad7[_0x2ea831(0x1a3)]),{'email':_0x43bad7[_0x2ea831(0x14e)],'nickname':_0x43bad7[_0x2ea831(0x14e)][_0x2ea831(0x1ca)]('@')[0x0],'avatarColor':_0x2ea831(0x27c),'commentCount':0x0,'postCount':0x0,'createdAt':Math[_0x2ea831(0x239)](Date[_0x2ea831(0x24d)]()/0x3e8)});}function listenForPostUpdates(){const _0xb8c061=a0_0x59e4c7,_0x3d0be9=collection(db,_0xb8c061(0x1ac)),_0x44618c=query(_0x3d0be9,orderBy(_0xb8c061(0x155),_0xb8c061(0x22d)));onSnapshot(_0x44618c,_0x2333a5=>{const _0x55671a=_0xb8c061;console[_0x55671a(0x1be)](_0x55671a(0x15f),_0x2333a5[_0x55671a(0x19d)]()['length']),_0x2333a5[_0x55671a(0x19d)]()[_0x55671a(0x20c)](_0x2bd111=>{const _0x4feb45=_0x55671a;console[_0x4feb45(0x1be)](_0x4feb45(0x194),_0x2bd111[_0x4feb45(0x13f)],'문서\x20ID:',_0x2bd111[_0x4feb45(0x248)]['id']);}),fetchPosts();});}function listenForChannelUpdates(){const _0x26e275=a0_0x59e4c7,_0x20750e=collection(db,_0x26e275(0x251)),_0x4862f2=query(_0x20750e,orderBy(_0x26e275(0x155),_0x26e275(0x22d)));onSnapshot(_0x4862f2,_0x5c7681=>{fetchChannels();});}document[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x169),()=>{fetchPosts(),fetchChannels(),listenForPostUpdates(),listenForChannelUpdates(),listenForCommentUpdates(),listenForChannelCommentUpdates();}),document['querySelector'](a0_0x59e4c7(0x227))[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x191),()=>{const _0x127016=a0_0x59e4c7;registerModal[_0x127016(0x14f)][_0x127016(0x18e)]=_0x127016(0x1bd);}),document[a0_0x59e4c7(0x229)](a0_0x59e4c7(0x1d4))[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x191),()=>{const _0x291d2a=a0_0x59e4c7;loginModal[_0x291d2a(0x14f)]['display']=_0x291d2a(0x1bd);}),document[a0_0x59e4c7(0x229)]('#logoutBtn')[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x191),logoutUser),boardTabBtn[a0_0x59e4c7(0x1c1)]('click',()=>{const _0x2b1ce2=a0_0x59e4c7;currentTab=_0x2b1ce2(0x19e),boardTabBtn[_0x2b1ce2(0x1d5)]['add'](_0x2b1ce2(0x16b)),channelTabBtn[_0x2b1ce2(0x1d5)]['remove'](_0x2b1ce2(0x16b)),boardTab[_0x2b1ce2(0x14f)]['display']=_0x2b1ce2(0x1bd),channelTab[_0x2b1ce2(0x14f)][_0x2b1ce2(0x18e)]=_0x2b1ce2(0x138),fetchPosts();}),channelTabBtn[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x191),()=>{const _0x31d539=a0_0x59e4c7;currentTab='channel',channelTabBtn[_0x31d539(0x1d5)]['add'](_0x31d539(0x16b)),boardTabBtn['classList'][_0x31d539(0x187)](_0x31d539(0x16b)),channelTab['style']['display']=_0x31d539(0x1bd),boardTab['style']['display']=_0x31d539(0x138),fetchChannels();}),writePostBtn['addEventListener'](a0_0x59e4c7(0x191),()=>{const _0x309427=a0_0x59e4c7;writeModal['style']['display']=_0x309427(0x1bd);}),addChannelBtn[a0_0x59e4c7(0x1c1)]('click',()=>{const _0x377c20=a0_0x59e4c7;channelModal[_0x377c20(0x14f)][_0x377c20(0x18e)]=_0x377c20(0x1bd);}),searchBtn[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x191),()=>{const _0x428d74=a0_0x59e4c7;searchTerm=searchInput[_0x428d74(0x242)][_0x428d74(0x237)](),currentPage=0x1,fetchPosts();}),searchInput[a0_0x59e4c7(0x1c1)]('keyup',_0x2ba5f9=>{const _0x31f8fd=a0_0x59e4c7;_0x2ba5f9[_0x31f8fd(0x230)]===_0x31f8fd(0x1df)&&(searchTerm=searchInput[_0x31f8fd(0x242)][_0x31f8fd(0x237)](),currentPage=0x1,fetchPosts());}),document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x250))[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x191),()=>{const _0x3e8b8f=a0_0x59e4c7;votePost('post',_0x3e8b8f(0x11e));}),document['getElementById']('dislikeBtn')[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x191),()=>{const _0x3053f4=a0_0x59e4c7;votePost(_0x3053f4(0x1b7),_0x3053f4(0x252));}),document['getElementById'](a0_0x59e4c7(0x202))[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x191),()=>{const _0x5bda32=a0_0x59e4c7;votePost(_0x5bda32(0x1cd),_0x5bda32(0x11e));}),document['getElementById'](a0_0x59e4c7(0x19f))[a0_0x59e4c7(0x1c1)]('click',()=>{const _0x32d800=a0_0x59e4c7;votePost(_0x32d800(0x1cd),'dislike');}),document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x21f))[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x191),()=>{const _0x526f7d=a0_0x59e4c7;document[_0x526f7d(0x171)](_0x526f7d(0x21f))['classList']['add']('active'),document[_0x526f7d(0x171)](_0x526f7d(0x266))[_0x526f7d(0x1d5)][_0x526f7d(0x187)](_0x526f7d(0x16b)),document[_0x526f7d(0x171)](_0x526f7d(0x125))['classList'][_0x526f7d(0x187)](_0x526f7d(0x16b)),document[_0x526f7d(0x171)](_0x526f7d(0x163))['style']['display']='block',document[_0x526f7d(0x171)](_0x526f7d(0x19c))['style'][_0x526f7d(0x18e)]=_0x526f7d(0x138),document[_0x526f7d(0x171)](_0x526f7d(0x1ba))[_0x526f7d(0x14f)]['display']=_0x526f7d(0x138),loadUserPosts();}),document['getElementById'](a0_0x59e4c7(0x266))[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x191),()=>{const _0x4a8747=a0_0x59e4c7;document[_0x4a8747(0x171)](_0x4a8747(0x266))[_0x4a8747(0x1d5)][_0x4a8747(0x18a)](_0x4a8747(0x16b)),document[_0x4a8747(0x171)](_0x4a8747(0x21f))[_0x4a8747(0x1d5)][_0x4a8747(0x187)](_0x4a8747(0x16b)),document[_0x4a8747(0x171)]('settingsTab')[_0x4a8747(0x1d5)][_0x4a8747(0x187)](_0x4a8747(0x16b)),document['getElementById'](_0x4a8747(0x19c))[_0x4a8747(0x14f)][_0x4a8747(0x18e)]=_0x4a8747(0x1bd),document['getElementById'](_0x4a8747(0x163))[_0x4a8747(0x14f)][_0x4a8747(0x18e)]=_0x4a8747(0x138),document[_0x4a8747(0x171)]('settingsContent')[_0x4a8747(0x14f)][_0x4a8747(0x18e)]=_0x4a8747(0x138),loadUserComments();}),document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x125))['addEventListener'](a0_0x59e4c7(0x191),()=>{const _0x3bcb52=a0_0x59e4c7;document['getElementById']('settingsTab')[_0x3bcb52(0x1d5)][_0x3bcb52(0x18a)](_0x3bcb52(0x16b)),document[_0x3bcb52(0x171)](_0x3bcb52(0x21f))[_0x3bcb52(0x1d5)][_0x3bcb52(0x187)](_0x3bcb52(0x16b)),document[_0x3bcb52(0x171)](_0x3bcb52(0x266))[_0x3bcb52(0x1d5)][_0x3bcb52(0x187)](_0x3bcb52(0x16b)),document[_0x3bcb52(0x171)]('settingsContent')[_0x3bcb52(0x14f)][_0x3bcb52(0x18e)]='block',document[_0x3bcb52(0x171)](_0x3bcb52(0x163))['style'][_0x3bcb52(0x18e)]=_0x3bcb52(0x138),document[_0x3bcb52(0x171)]('commentsContent')[_0x3bcb52(0x14f)]['display']='none';}),document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x190))[a0_0x59e4c7(0x1c1)]('click',updateUserProfile);const registerColorOptions=document[a0_0x59e4c7(0x1c0)](a0_0x59e4c7(0x13c));registerColorOptions[a0_0x59e4c7(0x20c)](_0x49f8c7=>{const _0x24ed26=a0_0x59e4c7;_0x49f8c7['addEventListener'](_0x24ed26(0x191),function(){const _0xeb2746=_0x24ed26;registerColorOptions[_0xeb2746(0x20c)](_0x2cb0b2=>_0x2cb0b2[_0xeb2746(0x1d5)][_0xeb2746(0x187)](_0xeb2746(0x167))),this['classList'][_0xeb2746(0x18a)](_0xeb2746(0x167)),selectedAvatarColor=this[_0xeb2746(0x126)](_0xeb2746(0x1e9));});});const profileColorOptions=document['querySelectorAll'](a0_0x59e4c7(0x199));profileColorOptions[a0_0x59e4c7(0x20c)](_0x332e4c=>{const _0x49eb61=a0_0x59e4c7;_0x332e4c[_0x49eb61(0x1c1)]('click',function(){const _0x37fc9a=_0x49eb61;profileColorOptions[_0x37fc9a(0x20c)](_0xb890df=>_0xb890df[_0x37fc9a(0x1d5)][_0x37fc9a(0x187)](_0x37fc9a(0x167))),this[_0x37fc9a(0x1d5)][_0x37fc9a(0x18a)](_0x37fc9a(0x167));});});const closeModalButtons=document[a0_0x59e4c7(0x1c0)](a0_0x59e4c7(0x10c));closeModalButtons['forEach'](_0xbb78b7=>{const _0x2fd389=a0_0x59e4c7;_0xbb78b7['addEventListener'](_0x2fd389(0x191),function(){const _0x480d26=_0x2fd389,_0x11125d=this[_0x480d26(0x12a)](_0x480d26(0x115));_0x11125d[_0x480d26(0x14f)][_0x480d26(0x18e)]=_0x480d26(0x138);});}),document[a0_0x59e4c7(0x171)]('submitPost')[a0_0x59e4c7(0x1c1)]('click',writePost),document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x123))['addEventListener'](a0_0x59e4c7(0x191),addChannel),document[a0_0x59e4c7(0x171)]('submitLogin')['addEventListener'](a0_0x59e4c7(0x191),async()=>{const _0x1eea9e=a0_0x59e4c7,_0x292263=document[_0x1eea9e(0x171)](_0x1eea9e(0x23f))[_0x1eea9e(0x242)]['trim'](),_0x1c71ee=document[_0x1eea9e(0x171)](_0x1eea9e(0x25f))['value'];if(!_0x292263||!_0x1c71ee){showToast('이메일과\x20비밀번호를\x20모두\x20입력해주세요.');return;}await loginUser(_0x292263,_0x1c71ee);}),document[a0_0x59e4c7(0x171)]('submitRegister')[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x191),async()=>{const _0x3b7685=a0_0x59e4c7,_0x15fcda=document[_0x3b7685(0x171)]('registerEmail')[_0x3b7685(0x242)]['trim'](),_0x138893=document['getElementById'](_0x3b7685(0x108))['value']['trim'](),_0x4de2a9=document['getElementById'](_0x3b7685(0x135))['value'];if(!_0x15fcda||!_0x138893||!_0x4de2a9){showToast(_0x3b7685(0x231));return;}if(_0x4de2a9[_0x3b7685(0x114)]<0x6){showToast(_0x3b7685(0x1f4));return;}await registerUser(_0x15fcda,_0x4de2a9,_0x138893),document[_0x3b7685(0x171)](_0x3b7685(0x15a))[_0x3b7685(0x242)]='',document[_0x3b7685(0x171)](_0x3b7685(0x108))['value']='',document[_0x3b7685(0x171)](_0x3b7685(0x135))[_0x3b7685(0x242)]='';}),document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x22e))[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x191),()=>{const _0x4c2c84=a0_0x59e4c7;document[_0x4c2c84(0x171)](_0x4c2c84(0x109))['style']['display']='none',document[_0x4c2c84(0x171)](_0x4c2c84(0x246))['style'][_0x4c2c84(0x18e)]=_0x4c2c84(0x1bd);}),document['getElementById'](a0_0x59e4c7(0x16c))['addEventListener']('click',()=>{const _0x1f0e26=a0_0x59e4c7;document[_0x1f0e26(0x171)](_0x1f0e26(0x1e2))[_0x1f0e26(0x14f)][_0x1f0e26(0x18e)]='none',document['getElementById'](_0x1f0e26(0x1d8))[_0x1f0e26(0x14f)][_0x1f0e26(0x18e)]=_0x1f0e26(0x1bd);}),document['getElementById'](a0_0x59e4c7(0x178))[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x191),updatePost),document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x1e5))[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x191),updateChannel),document['getElementById']('deleteBtn')[a0_0x59e4c7(0x1c1)]('click',deletePost),document['getElementById'](a0_0x59e4c7(0x1fc))[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x191),deleteChannel),document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x212))['addEventListener']('click',submitComment),document[a0_0x59e4c7(0x171)](a0_0x59e4c7(0x256))[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x191),submitChannelComment);function openProfileModal(){const _0x2ebd33=a0_0x59e4c7;if(!currentUser){showToast(_0x2ebd33(0x217));return;}profileModal[_0x2ebd33(0x14f)][_0x2ebd33(0x18e)]=_0x2ebd33(0x1bd),loadProfile();}window[a0_0x59e4c7(0x1c1)](a0_0x59e4c7(0x191),_0x15494f=>{const _0x18a5d7=a0_0x59e4c7,_0x4be8a7=document[_0x18a5d7(0x1c0)](_0x18a5d7(0x115));_0x4be8a7['forEach'](_0x37a527=>{const _0x552c63=_0x18a5d7;_0x15494f['target']===_0x37a527&&(_0x37a527[_0x552c63(0x14f)][_0x552c63(0x18e)]='none');});}),window[a0_0x59e4c7(0x225)]=function(_0x574fc5){const _0x18d157=a0_0x59e4c7;replyToCommentId=_0x574fc5,showToast(_0x18d157(0x269));},window[a0_0x59e4c7(0x1e0)]=viewPost,window[a0_0x59e4c7(0x1c5)]=viewChannel,window[a0_0x59e4c7(0x1a5)]=goToPage,window[a0_0x59e4c7(0x188)]=deleteComment,window[a0_0x59e4c7(0x185)]=deleteChannelComment,window[a0_0x59e4c7(0x26c)]=openProfileModal;